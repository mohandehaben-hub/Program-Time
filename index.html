<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ø§Ù„ØªÙ‡Ø§Ù…ÙŠ Ù„Ù„Ø£Ù†Ø¸Ù…Ø© Ø§Ù„Ø£Ù…Ù†ÙŠØ© | Ù…Ø­Ø±Ùƒ Ø§Ù„Ø¨Ø­Ø« Ø§Ù„Ø²Ù…Ù†ÙŠ</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        :root { 
            --primary: #020617; 
            --accent: #f59e0b;
            --text-light: #f8fafc; 
            --glass: rgba(15, 23, 42, 0.8);
            --glass-border: rgba(245, 158, 11, 0.3);
        }

        body { 
            font-family: 'Segoe UI', Tahoma, sans-serif; 
            background: radial-gradient(circle at center, #1e293b 0%, #020617 100%);
            color: var(--text-light);
            margin: 0;
            min-height: 100vh;
            padding: 20px;
        }

        .container { max-width: 500px; margin: 0 auto; }

        .header-card { 
            background: var(--glass); 
            backdrop-filter: blur(15px);
            padding: 20px; 
            border-radius: 25px; 
            text-align: center; 
            border: 1px solid var(--glass-border);
            margin-bottom: 20px;
        }

        .profile-img { 
            width: 80px; height: 80px; border-radius: 50%; 
            border: 2px solid var(--accent); margin-bottom: 10px;
        }

        .box { 
            background: var(--glass); 
            padding: 20px; border-radius: 25px; 
            margin-bottom: 15px; border: 1px solid rgba(255,255,255,0.05);
        }

        label { color: var(--accent); font-weight: bold; display: block; margin-bottom: 10px; font-size: 0.9rem; }

        .input-group { display: flex; gap: 5px; margin-bottom: 15px; }

        select { 
            flex: 1; padding: 10px 2px; border-radius: 10px; 
            background: #000; color: #fff; border: 1px solid var(--accent);
            text-align: center; font-size: 0.8rem;
        }

        .btn-calc { 
            background: var(--accent); color: #000; width: 100%; 
            padding: 15px; border: none; border-radius: 15px; 
            font-weight: 800; cursor: pointer; font-size: 1rem;
            transition: 0.3s;
        }

        .btn-calc:hover { transform: scale(1.02); box-shadow: 0 0 15px var(--accent); }

        .result-box { 
            display: none; background: rgba(245, 158, 11, 0.1); 
            border: 2px solid var(--accent); padding: 20px; 
            border-radius: 20px; margin-top: 15px; text-align: center;
        }

        .target-time { font-size: 1.8rem; font-weight: 900; color: #fff; margin: 10px 0; }

        .dev-signature { 
            font-size: 0.7rem; color: var(--accent); text-align: center; 
            margin-top: 20px; opacity: 0.7; 
        }
    </style>
</head>
<body>

<div class="container">
    <div class="header-card">
        <img src="https://i.ibb.co/Y78PM4nn/me-jpg.jpg" class="profile-img">
        <div style="font-weight: 800; color: var(--accent);">Ø§Ù„Ù…Ù‡Ù†Ø¯Ø³ Ù…Ù‡Ù†Ø¯ Ø¥ÙŠÙ‡Ø§Ø¨ Ø§Ù„ØªÙ‡Ø§Ù…ÙŠ</div>
        <div style="font-size: 0.8rem;">Ø®Ø¨ÙŠØ± ØªØ·ÙˆÙŠØ± Ø§Ù„Ø£Ù†Ø¸Ù…Ø© Ø§Ù„Ø£Ù…Ù†ÙŠØ©</div>
    </div>

    <div class="box">
        <label><i class="fas fa-clock"></i> 1. Ø§Ù„ÙˆÙ‚Øª Ø§Ù„ÙØ¹Ù„ÙŠ Ø§Ù„Ø¢Ù† (Ø³Ø§Ø¹Ø© Ø§Ù„Ù…ÙˆØ¨Ø§ÙŠÙ„):</label>
        <div class="input-group" id="realNowGroup"></div>

        <label><i class="fas fa-video"></i> 2. Ø§Ù„ØªÙˆÙ‚ÙŠØª Ø§Ù„Ø¸Ø§Ù‡Ø± Ø¹Ù„Ù‰ Ø´Ø§Ø´Ø© Ø§Ù„Ù€ DVR Ø§Ù„Ø¢Ù†:</label>
        <div class="input-group" id="camNowGroup"></div>
    </div>

    <div class="box">
        <label style="color: #ef4444;"><i class="fas fa-search"></i> 3. ÙˆÙ‚Øª Ø§Ù„ÙˆØ§Ù‚Ø¹Ø© Ø§Ù„Ù…Ø·Ù„ÙˆØ¨ (ÙˆÙ‚Øª Ø­Ù‚ÙŠÙ‚ÙŠ):</label>
        <div class="input-group" id="targetRealGroup"></div>

        <button class="btn-calc" onclick="calculateDVRTime()">
            <i class="fas fa-microchip"></i> Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ÙˆØ§Ø³ØªØ®Ø±Ø§Ø¬ ÙˆÙ‚Øª Ø§Ù„Ø¨Ø­Ø«
        </button>
    </div>

    <div id="result" class="result-box">
        <div style="font-size: 0.9rem;">ğŸ¯ ÙŠØ¬Ø¨ Ø§Ù„Ø¨Ø­Ø« ÙÙŠ Ø§Ù„Ù€ DVR Ø¹Ù†Ø¯ ØªØ§Ø±ÙŠØ®:</div>
        <div id="resTime" class="target-time"></div>
        <div id="resDate" style="font-weight: bold; color: var(--accent);"></div>
    </div>

    <div class="dev-signature">
        Ù†Ø¸Ø§Ù… Ø§Ù„ØªÙ‡Ø§Ù…ÙŠ Ø§Ù„Ø£Ù…Ù†ÙŠ Ø§Ù„Ù…ØªÙ‚Ø¯Ù… v2.0 <br>
        Eagle Vision Systems & Logic Protection
    </div>
</div>

<script>
    function createSelectors(idPrefix) {
        const now = new Date();
        const days = Array.from({length: 31}, (_, i) => i + 1);
        const months = Array.from({length: 12}, (_, i) => i + 1);
        const hours = Array.from({length: 24}, (_, i) => i);
        const mins = Array.from({length: 60}, (_, i) => i);

        return `
            <select id="${idPrefix}D">${days.map(d => `<option value="${d}" ${d==now.getDate()?'selected':''}>${d}</option>`).join('')}</select>
            <select id="${idPrefix}M">${months.map(m => `<option value="${m-1}" ${m-1==now.getMonth()?'selected':''}>${m}</option>`).join('')}</select>
            <select id="${idPrefix}H">${hours.map(h => `<option value="${h}" ${h==now.getHours()?'selected':''}>${String(h).padStart(2,'0')}</option>`).join('')}</select>
            <select id="${idPrefix}Min">${mins.map(m => `<option value="${m}" ${m==now.getMinutes()?'selected':''}>${String(m).padStart(2,'0')}</option>`).join('')}</select>
        `;
    }

    // ØªÙ‡ÙŠØ¦Ø© Ø§Ù„Ù‚ÙˆØ§Ø¦Ù… Ø¹Ù†Ø¯ Ø§Ù„ØªØ­Ù…ÙŠÙ„
    window.onload = () => {
        document.getElementById('realNowGroup').innerHTML = createSelectors('rn');
        document.getElementById('camNowGroup').innerHTML = createSelectors('cn');
        document.getElementById('targetRealGroup').innerHTML = createSelectors('tr');
    };

    function calculateDVRTime() {
        // 1. Ù‚Ø±Ø§Ø¡Ø© Ø§Ù„ØªÙˆÙ‚ÙŠØª Ø§Ù„ÙØ¹Ù„ÙŠ Ø§Ù„Ø­Ø§Ù„ÙŠ
        const realNow = new Date(2026, getValue('rnM'), getValue('rnD'), getValue('rnH'), getValue('rnMin'));
        
        // 2. Ù‚Ø±Ø§Ø¡Ø© ØªÙˆÙ‚ÙŠØª Ø§Ù„ÙƒØ§Ù…ÙŠØ±Ø§ Ø§Ù„Ø­Ø§Ù„ÙŠ
        const camNow = new Date(2026, getValue('cnM'), getValue('cnD'), getValue('cnH'), getValue('cnMin'));
        
        // 3. Ù‚Ø±Ø§Ø¡Ø© ÙˆÙ‚Øª Ø§Ù„ÙˆØ§Ù‚Ø¹Ø© (Ø­Ù‚ÙŠÙ‚ÙŠ)
        const targetReal = new Date(2026, getValue('trM'), getValue('trD'), getValue('trH'), getValue('trMin'));

        // 4. Ø­Ø³Ø§Ø¨ Ø§Ù„ÙØ±Ù‚ (Ø§Ù„ÙØ¬ÙˆØ© Ø§Ù„Ø²Ù…Ù†ÙŠØ©)
        // Offset = Ø§Ù„ÙˆØ§Ù‚Ø¹ - Ø§Ù„ÙƒØ§Ù…ÙŠØ±Ø§
        const offsetMs = realNow - camNow;

        // 5. ÙˆÙ‚Øª Ø§Ù„Ø¨Ø­Ø« ÙÙŠ DVR = ÙˆÙ‚Øª Ø§Ù„ÙˆØ§Ù‚Ø¹Ø© - Ø§Ù„ÙØ¬ÙˆØ©
        const dvrTarget = new Date(targetReal.getTime() - offsetMs);

        // Ø§Ù„Ø¹Ø±Ø¶
        const h = String(dvrTarget.getHours()).padStart(2, '0');
        const m = String(dvrTarget.getMinutes()).padStart(2, '0');
        const day = dvrTarget.getDate();
        const month = dvrTarget.getMonth() + 1;

        document.getElementById('resTime').innerText = `${h}:${m}`;
        document.getElementById('resDate').innerText = `Ø§Ù„ØªØ§Ø±ÙŠØ®: ${day} / ${month} / 2026`;
        document.getElementById('result').style.display = 'block';
    }

    function getValue(id) { return parseInt(document.getElementById(id).value); }
</script>

</body>
</html>
